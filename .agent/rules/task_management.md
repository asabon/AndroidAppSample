# タスク・Issue管理ルール

## プロジェクトの「唯一の真実（Source of Truth）」
- **docs/progress/task.md** を現在のプロジェクトステータスと常に一致させてください。

## タスクの追加と開始
1. **タスクの特定**: 要望受領後、直ちに **docs/progress/task.md** に追加。
2. **Issue起票**: 実装前に GitHub Issue を起票（`/issue_new`）。
3. **作業用ブランチの作成**:
   - `gh issue develop` で Issue 紐付けブランチを作成。
   - **命名規則**: 先頭に Issue 番号を付与（例: `82-update-git-rules`）。詳細は `git.md` の「ブランチ命名規則」を参照。


## 作業中の進捗・中断（栞機能）
中断時や定期的な保存（`/save`）の際、AI は再開時のコンテキストを完璧に復元するための「栞（Checkpoint）」を残す必要があります。

- **GitHub Issue へのコメント**: 実装の進捗と「次の一手（具体的アクション）」をコメントとして残してください。
- **task.md への記録**: 「決定事項・メモ」セクションに、中断時の詳細なコンテキスト情報を追記してください。
  - 書くべきこと：どのクラスのどの修正まで終わったか、次は何のコマンドを打つべきか、デバッグ中ならどの変数が怪しいか、など。

## 完了・PR・クリーンアップフロー
AI がナビゲーターとして以下のステップを主導します。

### Step 5. 完了報告（AI主導）
- AI が `task.md` のタスクを「完了 `[x]`」に更新し、GitHub Issue のチェックリストも全て埋める。
- 報告時に「この変更と一緒に task.md の完了状態も push される」旨を通知。

### Step 6. 内容確認とプッシュ（User）
- ユーザーが変更内容を確認し、ローカルで **コミット・プッシュ** を実行。

### Step 7. プルリクエスト作成（AI主導）
- プッシュ報告を受け、AI が `/complete` を使用して `gh pr create` を実行。

### Step 8. マージ（User）
- ユーザーが PR を **マージ**。

### Step 9. クリーンアップ（AI主導）
- マージ後、AI が `/complete` を使用して、後片付け（`main` 復帰、ブランチ削除）を提案・実行する。




